// Скрипт для заполнения начальными данными услуг
// Запускать в Sanity Studio

import { client } from "@sanity/client";

const initialServices = [
  {
    title: "Построение управленческого учета",
    description:
      "Комплексное внедрение системы управленческого учета с нуля или модернизация существующей системы",
    features: [
      "Анализ текущего состояния учета",
      "Разработка учетной политики",
      "Настройка центров ответственности",
      "Создание управленческих отчетов",
      "Обучение персонала",
    ],
    duration: "3-6 месяцев",
    price: "от 500 000 ₽",
    icon: "BarChart3",
    popular: true,
    order: 1,
  },
  {
    title: "IT аутсорсинг",
    description:
      "Полное техническое сопровождение IT-инфраструктуры и автоматизация бизнес-процессов",
    features: [
      "Техническая поддержка 24/7",
      "Администрирование серверов",
      "Настройка и поддержка 1С",
      "Интеграция систем учета",
      "Резервное копирование данных",
    ],
    duration: "Постоянно",
    price: "от 50 000 ₽/мес",
    icon: "Settings",
    popular: false,
    order: 2,
  },
  {
    title: "Консультации по бюджетированию",
    description:
      "Разработка и внедрение системы бюджетного планирования и контроля",
    features: [
      "Методология бюджетирования",
      "Модели финансового планирования",
      "Автоматизация процессов",
      "KPI и система мотивации",
      "Регламенты и процедуры",
    ],
    duration: "2-4 месяца",
    price: "от 300 000 ₽",
    icon: "Zap",
    popular: false,
    order: 3,
  },
  {
    title: "Внедрение KPI систем",
    description:
      "Разработка и внедрение системы ключевых показателей эффективности",
    features: [
      "Анализ бизнес-процессов",
      "Разработка системы KPI",
      "Настройка дашбордов",
      "Система мотивации персонала",
      "Мониторинг и корректировка",
    ],
    duration: "1-3 месяца",
    price: "от 200 000 ₽",
    icon: "CheckCircle",
    popular: false,
    order: 4,
  },
  {
    title: "Автоматизация отчетности",
    description:
      "Внедрение BI-систем и автоматизация управленческой отчетности",
    features: [
      "Анализ потребностей в отчетах",
      "Настройка Power BI / Tableau",
      "Интеграция источников данных",
      "Создание интерактивных дашбордов",
      "Обучение пользователей",
    ],
    duration: "2-4 месяца",
    price: "от 400 000 ₽",
    icon: "BarChart3",
    popular: true,
    order: 5,
  },
  {
    title: "Обучение персонала",
    description:
      "Корпоративное обучение по управленческому учету и финансовой аналитике",
    features: [
      "Индивидуальные программы",
      "Практические кейсы",
      "Онлайн и офлайн форматы",
      "Сертификация участников",
      "Методические материалы",
    ],
    duration: "1-2 месяца",
    price: "от 100 000 ₽",
    icon: "GraduationCap",
    popular: false,
    order: 6,
  },
];

console.log("Начинаем создание услуг...");

for (const serviceData of initialServices) {
  try {
    // Создаем slug из названия
    const slug = serviceData.title
      .toLowerCase()
      .replace(/[^а-яёa-z0-9\s-]/g, "")
      .replace(/\s+/g, "-")
      .replace(/-+/g, "-")
      .trim("-");

    // Создаем услугу
    const service = await client.create({
      _type: "service",
      ...serviceData,
      slug: {
        current: slug,
      },
    });

    console.log(
      `✅ Услуга "${serviceData.title}" создана с ID: ${service._id}`
    );
  } catch (error) {
    console.error(
      `❌ Ошибка при создании услуги "${serviceData.title}":`,
      error
    );
  }
}

console.log("Создание услуг завершено!");
